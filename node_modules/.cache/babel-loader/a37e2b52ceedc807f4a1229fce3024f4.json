{"ast":null,"code":"import _defineProperty from\"/Users/manuelpolaina/Documents/CURSOS/JUANP/React/MERNtasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/manuelpolaina/Documents/CURSOS/JUANP/React/MERNtasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/manuelpolaina/Documents/CURSOS/JUANP/React/MERNtasks/cliente/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import alertaContext from'../../context/alertas/alertaContext';import authContext from'../../context/autenticacion/authContext';var Login=function Login(props){// Extraer valores del alertContext\nvar contextalerta=useContext(alertaContext);var alerta=contextalerta.alerta,mostrarAlerta=contextalerta.mostrarAlerta;// Extraer valores del authContext\nvar contextauth=useContext(authContext);var mensaje=contextauth.mensaje,autenticado=contextauth.autenticado,iniciarSesion=contextauth.iniciarSesion;// Si el usuario o password no existe\nuseEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);// State para iniciar sesión\nvar _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];// extraer de usuario\nvar email=usuario.email,password=usuario.password;var onChange=function onChange(e){guardarUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};// Cuando se inicia sesión\nvar onSubmit=function onSubmit(e){e.preventDefault();// Validación sin campos vacios\nif(email.trim()===''||password.trim()===''){mostrarAlerta('Todos los campos requeridos','alerta-error');return;}// Pasarlo al action\niniciarSesion({email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alerta?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alerta.categoria)},alerta.msg):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sombra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Iniciar sesi\\xF3n\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu email\",value:email,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Tu password\",value:password,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Iniciar sesi\\xF3n\"}))),/*#__PURE__*/React.createElement(Link,{to:'/nueva-cuenta',className:\"enlace-cuenta\"},\"Reg\\xEDstrate\")));};export default Login;","map":{"version":3,"sources":["/Users/manuelpolaina/Documents/CURSOS/JUANP/React/MERNtasks/cliente/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","Link","alertaContext","authContext","Login","props","contextalerta","alerta","mostrarAlerta","contextauth","mensaje","autenticado","iniciarSesion","history","push","msg","categoria","email","password","usuario","guardarUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom'\nimport alertaContext from '../../context/alertas/alertaContext'\nimport authContext from '../../context/autenticacion/authContext'\n\nconst Login = (props) => {\n  \n    // Extraer valores del alertContext\n    const contextalerta = useContext(alertaContext);\n    const { alerta, mostrarAlerta } = contextalerta\n    \n    // Extraer valores del authContext\n    const contextauth = useContext(authContext);\n    const { mensaje, autenticado, iniciarSesion } = contextauth\n    \n     // Si el usuario o password no existe\n     useEffect(() => {\n      if(autenticado) {\n          props.history.push('/proyectos')\n      }\n      if(mensaje) {\n          mostrarAlerta(mensaje.msg, mensaje.categoria)\n      }\n      // eslint-disable-next-line\n  }, [mensaje, autenticado, props.history])\n    \n    // State para iniciar sesión\n    const [usuario, guardarUsuario] = useState({\n        email: '',\n        password: ''\n    })\n    \n    // extraer de usuario\n    const { email, password } = usuario;\n    \n    const onChange = e => {\n        guardarUsuario( {\n            ...usuario,\n            [e.target.name] : e.target.value\n        })\n    }  \n  \n    // Cuando se inicia sesión\n    const onSubmit = e => {\n      e.preventDefault();\n      \n      // Validación sin campos vacios\n      if(email.trim() === '' || password.trim() === ''){\n          mostrarAlerta('Todos los campos requeridos', 'alerta-error')\n          return\n      }\n      // Pasarlo al action\n      iniciarSesion({\n          email,\n          password\n      })\n    }\n    \n    return (  \n      <div className='form-usuario'>\n          { alerta ? ( <div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div> ) : null}\n          <div className='contenedor-form sombra-dark'>\n              <h1>Iniciar sesión</h1>\n              \n              <form\n                  onSubmit={onSubmit}\n              >\n                  <div className='campo-form'>\n                      <label htmlFor='email'>Email</label>\n                      <input\n                          type='email'\n                          id='email'\n                          name='email'\n                          placeholder='Tu email'\n                          value={email}\n                          onChange={onChange}\n                      />\n                  </div>\n                  <div className='campo-form'>\n                      <label htmlFor='password'>Password</label>\n                      <input\n                          type='password'\n                          id='password'\n                          name='password'\n                          placeholder='Tu password'\n                          value={password}\n                          onChange={onChange}\n                      />\n                  </div>\n                  <div className='campo-form'>\n                      <input \n                          type='submit'\n                          className='btn btn-primario btn-block'\n                          value='Iniciar sesión'\n                      />\n                  </div>\n              </form>\n              \n              <Link to={'/nueva-cuenta'} className='enlace-cuenta'>\n                  Regístrate\n              </Link>\n          </div>\n      </div>\n    );\n}\n \nexport default Login;"]},"metadata":{},"sourceType":"module"}