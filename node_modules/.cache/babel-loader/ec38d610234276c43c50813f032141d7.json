{"ast":null,"code":"var _jsxFileName = \"/Users/manuelpolaina/Documents/CURSOS/JUANP/React/MERNtasks/cliente/src/components/tareas/FormTarea.js\";\nimport React, { useContext, useState } from 'react';\nimport proyectoContext from '../../context/proyectos/proyectoContext';\nimport tareaContext from '../../context/tareas/tareaContext';\n\nconst FormTarea = () => {\n  // STATE de proyectos\n  const proyectosContext = useContext(proyectoContext);\n  const {\n    proyecto\n  } = proyectosContext; // obtener la fn del context de tareas\n\n  const tareasContext = useContext(tareaContext);\n  const {\n    errortarea,\n    agregarTarea,\n    validarTarea,\n    obtenerTareas\n  } = tareasContext; // STATE del formulario\n\n  const [tarea, setTarea] = useState({\n    nombre: ''\n  }); // extraer nombre de la tarea\n\n  const {\n    nombre\n  } = tarea; // Si no hay ningún proyecto seleccionado\n\n  if (!proyecto) return null; // Array destructuring para extraer proyecto actual\n\n  const [poryectoActual] = proyecto; // Leer los valores del formulario\n\n  const handleChange = e => {\n    setTarea({ ...tarea,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault(); // Validar\n\n    if (nombre.trim() === '') {\n      validarTarea();\n      return;\n    } // Agregar la nueva tarea al state.tareas, en su proyecto y con estado \"incompleta\"\n\n\n    tarea.proyectoId = poryectoActual.id;\n    tarea.estado = false;\n    agregarTarea(tarea); // Obtener y filtrar tareas del proyectoActual\n\n    obtenerTareas(poryectoActual.id); // Reiniciar el form\n\n    setTarea({\n      nombre: ''\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formulario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input-text\",\n    placeholder: \"Nombre tarea...\",\n    name: \"nombre\",\n    value: nombre,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-submit btn-block\",\n    value: \"Agregar tarea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 23\n    }\n  }))), errortarea ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mensaje error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"Una tarea sin nombre, no es tarea ;)\") : null);\n};\n\nexport default FormTarea;","map":{"version":3,"sources":["/Users/manuelpolaina/Documents/CURSOS/JUANP/React/MERNtasks/cliente/src/components/tareas/FormTarea.js"],"names":["React","useContext","useState","proyectoContext","tareaContext","FormTarea","proyectosContext","proyecto","tareasContext","errortarea","agregarTarea","validarTarea","obtenerTareas","tarea","setTarea","nombre","poryectoActual","handleChange","e","target","name","value","onSubmit","preventDefault","trim","proyectoId","id","estado"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,eAAP,MAA4B,yCAA5B;AACA,OAAOC,YAAP,MAAyB,mCAAzB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAElB;AACA,QAAMC,gBAAgB,GAAGL,UAAU,CAACE,eAAD,CAAnC;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAeD,gBAArB,CAJkB,CAMlB;;AACA,QAAME,aAAa,GAAGP,UAAU,CAACG,YAAD,CAAhC;AACA,QAAM;AAAEK,IAAAA,UAAF;AAAcC,IAAAA,YAAd;AAA4BC,IAAAA,YAA5B;AAA0CC,IAAAA;AAA1C,MAA4DJ,aAAlE,CARkB,CAUlB;;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC;AAC/Ba,IAAAA,MAAM,EAAE;AADuB,GAAD,CAAlC,CAXkB,CAclB;;AACA,QAAM;AAAEA,IAAAA;AAAF,MAAaF,KAAnB,CAfkB,CAiBlB;;AACA,MAAG,CAACN,QAAJ,EAAc,OAAO,IAAP,CAlBI,CAoBlB;;AACA,QAAM,CAAES,cAAF,IAAqBT,QAA3B,CArBkB,CAuBlB;;AACA,QAAMU,YAAY,GAAGC,CAAC,IAAI;AACtBJ,IAAAA,QAAQ,CAAC,EACL,GAAGD,KADE;AAEL,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAkBF,CAAC,CAACC,MAAF,CAASE;AAFtB,KAAD,CAAR;AAIH,GALD;;AAOA,QAAMC,QAAQ,GAAGJ,CAAC,IAAI;AAClBA,IAAAA,CAAC,CAACK,cAAF,GADkB,CAElB;;AACA,QAAGR,MAAM,CAACS,IAAP,OAAkB,EAArB,EAAwB;AACtBb,MAAAA,YAAY;AACZ;AACD,KANiB,CAOlB;;;AACAE,IAAAA,KAAK,CAACY,UAAN,GAAmBT,cAAc,CAACU,EAAlC;AACAb,IAAAA,KAAK,CAACc,MAAN,GAAe,KAAf;AACAjB,IAAAA,YAAY,CAACG,KAAD,CAAZ,CAVkB,CAYlB;;AACAD,IAAAA,aAAa,CAACI,cAAc,CAACU,EAAhB,CAAb,CAbkB,CAelB;;AACAZ,IAAAA,QAAQ,CAAC;AACLC,MAAAA,MAAM,EAAE;AADH,KAAD,CAAR;AAGH,GAnBD;;AAqBA,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,QAAQ,EAAEO,QADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,SAAS,EAAC,YAFd;AAGI,IAAA,WAAW,EAAC,iBAHhB;AAII,IAAA,IAAI,EAAC,QAJT;AAKI,IAAA,KAAK,EAAEP,MALX;AAMI,IAAA,QAAQ,EAAEE,YANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAHJ,eAaI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,SAAS,EAAC,uCAFd;AAGI,IAAA,KAAK,EAAC,eAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAbJ,CADJ,EAsBMR,UAAU,gBACN;AAAG,IAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADM,GAEN,IAxBV,CADJ;AA6BL,CAjFD;;AAmFA,eAAeJ,SAAf","sourcesContent":["import React, { useContext, useState } from 'react';\nimport proyectoContext from '../../context/proyectos/proyectoContext'\nimport tareaContext from '../../context/tareas/tareaContext'\n\nconst FormTarea = () => {\n  \n      // STATE de proyectos\n      const proyectosContext = useContext(proyectoContext)\n      const { proyecto } = proyectosContext\n      \n      // obtener la fn del context de tareas\n      const tareasContext = useContext(tareaContext)\n      const { errortarea, agregarTarea, validarTarea, obtenerTareas } = tareasContext\n      \n      // STATE del formulario\n      const [tarea, setTarea] = useState({\n          nombre: ''\n      })\n      // extraer nombre de la tarea\n      const { nombre } = tarea;\n      \n      // Si no hay ningún proyecto seleccionado\n      if(!proyecto) return null;\n        \n      // Array destructuring para extraer proyecto actual\n      const [ poryectoActual ] = proyecto;\n      \n      // Leer los valores del formulario\n      const handleChange = e => {\n          setTarea({\n              ...tarea,\n              [e.target.name] : e.target.value\n          })\n      }\n      \n      const onSubmit = e => {\n          e.preventDefault();\n          // Validar\n          if(nombre.trim() === ''){\n            validarTarea()\n            return\n          }\n          // Agregar la nueva tarea al state.tareas, en su proyecto y con estado \"incompleta\"\n          tarea.proyectoId = poryectoActual.id\n          tarea.estado = false\n          agregarTarea(tarea)\n          \n          // Obtener y filtrar tareas del proyectoActual\n          obtenerTareas(poryectoActual.id)\n          \n          // Reiniciar el form\n          setTarea({\n              nombre: ''\n          })\n      }\n      \n      return (  \n          <div className='formulario'>\n              <form\n                  onSubmit={onSubmit}\n              >\n                  <div className='contenedor-input'>\n                      <input\n                          type='text'\n                          className='input-text'\n                          placeholder='Nombre tarea...'\n                          name='nombre'\n                          value={nombre}\n                          onChange={handleChange}\n                      />\n                  </div>\n                  <div className='contenedor-input'>\n                      <input\n                          type='submit'\n                          className='btn btn-primario btn-submit btn-block'\n                          value='Agregar tarea'\n                      />\n                  </div>\n              </form>\n              { errortarea \n                  ? <p className='mensaje error'>Una tarea sin nombre, no es tarea ;)</p>\n                  : null\n              }\n          </div> \n      );\n}\n \nexport default FormTarea;"]},"metadata":{},"sourceType":"module"}